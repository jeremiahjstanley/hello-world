import { dataCleaner } from '../dataCleaner';

describe('dataCleaner', () => {

  it('should return undefined if graphData is undefined', () => {

    const expected = undefined;

    const actual = dataCleaner(undefined);

    expect(actual).toEqual(expected);
    
  });

  it('should return clean graphData', () => {

    const mockData = { dataset: {
      data: [
        ["2016-12-31", 2160559261000],
        ["2015-12-31", 2159808669000],
        ["2014-12-31", 2084859568000],
        ["2013-12-31", 2008179295000],
        ["2012-12-31", 1958676540000],
        ["2011-12-31", 1885093563000],
        ["2010-12-31", 1807913249000],
        ["2009-12-31", 1704555537000],
        ["2008-12-31", 1800098070000],
        ["2007-12-31", 1839907042000],
        ["2006-12-31", 1789604332000],
        ["2005-12-31", 1689772453000],
        ["2004-12-31", 1605702392000],
        ["2003-12-31", 1517777020000],
        ["2002-12-31", 1460259581000],
        ["2001-12-31", 1466466814000],
        ["2000-12-31", 1543678200000],
        ["1999-12-31", 1482966527000],
        ["1998-12-31", 1424667164000],
        ["1997-12-31", 1379263500000]
      ]}
    };

    const expected = [ 
      {label: `year: 1997
      value: 1379263500000`, x: '1997', y: 1379263500000},
      {label: `year: 1998
      value: 1424667164000`, x: '1998', y: 1424667164000},
      {label: `year: 1999
      value: 1482966527000`, x: '1999', y: 1482966527000},
      {label: `year: 2000
      value: 1543678200000`, x: '2000', y: 1543678200000},
      {label: `year: 2001
      value: 1466466814000`, x: '2001', y: 1466466814000},
      {label: `year: 2002
      value: 1460259581000`, x: '2002', y: 1460259581000},
      {label: `year: 2003
      value: 1517777020000`, x: '2003', y: 1517777020000},
      {label: `year: 2004
      value: 1605702392000`, x: '2004', y: 1605702392000},
      {label: `year: 2005
      value: 1689772453000`, x: '2005', y: 1689772453000},
      {label: `year: 2006
      value: 1789604332000`, x: '2006', y: 1789604332000},
      {label: `year: 2007
      value: 1839907042000`, x: '2007', y: 1839907042000},
      {label: `year: 2008
      value: 1800098070000`, x: '2008', y: 1800098070000},
      {label: `year: 2009
      value: 1704555537000`, x: '2009', y: 1704555537000},
      {label: `year: 2010
      value: 1807913249000`, x: '2010', y: 1807913249000},
      {label: `year: 2011
      value: 1885093563000`, x: '2011', y: 1885093563000},
      {label: `year: 2012
      value: 1958676540000`, x: '2012', y: 1958676540000},
      {label: `year: 2013
      value: 2008179295000`, x: '2013', y: 2008179295000},
      {label: `year: 2014
      value: 2084859568000`, x: '2014', y: 2084859568000},
      {label: `year: 2015
      value: 2159808669000`, x: '2015', y: 2159808669000},
      {label: `year: 2016
      value: 2160559261000`, x: '2016', y: 2160559261000}]

    const actual = dataCleaner(mockData);
    
    expect(actual).toEqual(expected); 

  });

});